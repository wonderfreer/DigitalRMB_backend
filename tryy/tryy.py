#!/usr/bin/env python
# -*- coding: utf-8 -*-
import sys
import json
import logging
import warnings
import pymysql
import testbackend.config as config

# jsondata='''{"RMB_opreating_agency":"中国工商银行","name":"王飞","IDcard_type":"1","IDcard_number":"130988200001011234","mobile_number":"12345678910","university":"北京航空航天大学","faculty":"计算机学院","major":"计算机技术","bank_id":"1","card_number":"620000000000000001"}'''
# jsda=json.loads(jsondata)
# print(jsda)
# for key in jsda:
#     print(key,jsda[key])

mystr="application/jso;charset=UTF-8"

print(posttype.find('application/json'))



resource_path = sys.path[0] + '/resource'

# init backend
print("backend start")
# connect db
#db=pymysql.connect("localhost","root","123","mytestdb")#本机数据库连接

#远程连接数据库
# db = pymysql.connect(
#          host='172.20.10.14',
#          port=3306,
#          user='root',
#          passwd='112233445',
#          db ='shujuku',
#          charset='utf8'
#          )
# sql="select * from {tablename};".format(tablename="user_apply_info")
# try:
#     with db.cursor() as cursor: #使用cursor()方法获取操作游标
#         cursor.execute(sql) #执行sql语句
#         select_result = cursor.fetchall()   #返回数据库查询的所有信息，用元组显示
#         if len(select_result) == 0:
#             print("no record")
#         else:
#             for record in select_result:
#                 print(record)
# except Exception as e:
#     print(e)
# print ("link success")


#插入人名身份证到表里

# db=config.db
# name_idcard_table="name_idcard_info"
#
# jsda={"杨先度":"110103196502083435","谢峰":"110103196608150034","刘峰":"110123333377777567","王立坤":"110222444454656768","陆逊":"110232343545676843","徐鑫":"110241111100000328","刘波":"110243242343535234","王楠":"110324435768769546","王星":"110325555566666443","陈毅锋":"110343543654643511","陈冰":"110432222233333889","詹俊":"110434566564545453","张森韩":"110534523254354350","林燕":"110543435355443540","王涵":"110545338797978789","朱超峰":"111224198301202091","李慧君":"130103197106190048","张恬恬":"130131198509216804","吴娇倩":"130131199004245508","林红如":"130131199007302061","顾云平":"130133199101231450","张颖":"130224198007036389","陈维思":"130224198906257126","刘小凤":"130224198912229826","李荣昌":"13022619820429423X","许宗彤":"130322198611238756","陈曙光":"130322199401048115","乔宇璇":"130324199109056380","戴国旗":"130421199403209110","徐君芳":"130684197306223241","程志红":"130684197604304728","杨越铭":"130684197705235506","李爱武":"130730197708041682","李明敏":"131023199403052773","刘峰":"140123197709041495","王怀亮":"140123198203261436","雷晶晶":"140203197207249069","郭炜标":"140223198002240853","马仁龙":"140223198801313473","管红梅":"140402197704215905","曾文嘉":"140402198409152408","沈建群":"14040219860621900X","陆文芯":"140402199107113387","谢飞天":"140424198305078395","阎伟东":"140424198503210596","沈晓飞":"140522198008128616","赵乃静":"150523197903113847","赵海深":"150725197410128091","朱荣达":"150725198312013156","沈伟骏":"150802198502241337","谢雯雯":"150825199302117701","齐同生":"170406199102142531","范京晔":"170827197509248375","刘国君":"171402198610301675","王芝雯":"210103197212037127","张颖":"210103198207168549","褚丽萌":"210211197611167696","项小红":"210505199004122902","禹在清":"211011197905056852","施圣达":"211011197908073738","彭丽姗":"211081198106259702","张彩霞":"211081198412067805","刘惠庆":"211381199304227913","王翠丹":"220112197612213909","刘园园":"220112197806025789","施玲君":"220112198402086344","贾潇忆":"220112199206213283","章启文":"220181198603186379","林力空":"22018119940910045X","寇夏青":"220202197408090828","邹赛虎":"220283197308113656","顾雅涛":"220283198812283210","刘红兵":"220621198306114919","谢宗胜":"220621199001064572","徐燕萍":"230125199104263806","吴艳霞":"230230199109261742","白克宇":"230231198506221391","王有俊":"230231198805094935","陈蓓敏":"230403199304139445","于乐星":"230421198006049036","吴维娜":"230421198701260378","何学东":"230716197411124918","严玉婷":"230822198203152946","吴建红":"231085197309168047","赵晶旌":"231085199006014744","刘立志":"320206197610200719","李笑冰":"320312197304306227","王礼萍":"320312198809220706","鲍丹丹":"320982197201237427","张一慧":"320982197703308088","刘双铭":"32098219870713354X","宋晓娟":"320982199209240347","郭佳佳":"330185198306284301","孙安峰":"330226197203154791","冯嘉河":"330226197601235052","赵贝娜":"330283197311191765","谢忠诚":"33042119740130899X","杨惠凤":"330902198707190421","马文波":"33100319790119485X","向光辉":"331003198105108994","汤婷佳":"331022197609215683","丁璐璐":"331022198801318185","李忠平":"331022198902047265","王万成":"331023197204217812","曹东莉":"331125198810019421","孙洁玫":"340181198106245435","孟宪斌":"340181198609032474","林光学":"340202197901115280","孙正刚":"340203198311171259","贾云兰":"340403197404306200","方明富":"340522198102260875","陆冬冬":"340522198908048793","王国英":"341024197409185226","李锋":"341024198011034166","李洪源":"341203198504158158","胡俊青":"350122197204197913","唐元龙":"350122198010137933","李思雨":"350182198712301001","朱墨村":"350402197210139577","刘峰霖":"350402199102182577","李白敏":"350723198507038155","赵力明":"350723199308025313","王柯惠":"36110219720414347X","向振军":"361102199212024234","徐利锋":"370103198008061014","罗世容":"370406197405045756","钱信东":"370406198609029517","侯轶琼":"370612197803125047","张为军":"370827199201031750","包美琴":"370983197401310663","黄美英":"370983199101217482","张明红":"371102197305155308","林敏芬":"371102198612127627","李海秀":"37142819810410260X","施丽华":"371428198204112741","王丹宜":"371428199309303901","张国威":"410106197512228810","陶春伟":"410106198308010835","郑高兵":"411224197808240877","李谦祥":"411224199108119274","韩文静":"41132819760324578X","雷昕云":"411328199103267789","吴振兴":"411402197708263097","王立言":"411402198103114739","谈祥康":"41140219831009323X","金祥海":"411402198907096732"}
#
# for key in jsda:
#     sql = "INSERT INTO {0} VALUES('{1}','{2}');".format(name_idcard_table, key,jsda[key])
#     # sql="INSERT INTO tasks(RMB_opreating_agency,name,IDcard_type,IDcard_number,mobile_number,university,faculty,major,bank_id,card_number) VALUES('{0}','{1}', '{2}','{3}','{4}','{5}','{6}','{7}');"
#     try:
#         with db.cursor() as cursor:
#             cursor.execute(sql)
#         db.commit()
#         print ("insert bankcard success")
#     except Exception as e:
#         print ("insert bankcard error")
#         print(e)
#         db.rollback()